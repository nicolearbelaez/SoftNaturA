{% extends 'usuarios/base.html' %}

{% block content %}
<style>
  .btn-volver {
    display: inline-block;
    margin-bottom: 1rem;
    padding: 12px 22px;
    background-color: #E5BE01;
    color: white;
    text-decoration: none;
    border-radius: 6px;
    font-weight: bold;
    transition: background-color 0.3s ease;
    margin-right: 1600px;
    margin-top: 50px;
  }

  .btn-volver:hover {
    background-color: #E5BE01;
  }

  h1 {
    margin: 10px 0 20px;
    text-align: center;
    color: #E5BE01;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    background-color: #E5BE01;
    color: white;
  }

  .info-box {
    width: 100%;
    border-collapse: collapse;
    background: white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    background-color: #E5BE01;
    color: white;
  }
</style>
<a class="btn-volver" href="{% url 'usuarios:dashboard' %}">← Volver al dashboard</a>
<div class="container">
  <h1 class="text-center text-success my-4">Gestión de pedidos</h1>

  <table class="table table-bordered table-striped text-center">
    <thead class="table-success">
      <tr>
        <th>ID</th>
        <th>Usuario</th>
        <th>Estado</th>
        <th>Items</th>
        <th>Fecha</th>
      </tr>
    </thead>
    <tbody>
      {% for pedido in pedidos %}
      <tr>
        <td>{{ pedido.id }}</td>
        <td>{{ pedido.usuario }}</td>
        <td>{{ pedido.estado }}</td>
        <td>
          {% for item in pedido.items.all %}
          {{ item }}<br>
          {% endfor %}
        </td>
        <td>{{ pedido.fecha_creacion }}</td>
      </tr>
      {% empty %}
      <tr>
        <td class="info-box" colspan="5">No hay pedidos registrados</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
{% endblock %}