{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login Admin - Verificación</title>
  <link rel="stylesheet" href="{% static 'usuarios/css/loginAdm-login-register.css' %}" />
</head>



<body>
  <div class="contenedor-form-adm">
    <img src="/media/uploads/products/Gemini_Generated_Image_givzp3givzp3givz__1_-removebg-preview.png"
      alt="Logo Unidos pensando en su salud">
    <div class="step-indicator">
      <div class="step-dot active" id="dot1"></div>
      <div class="step-dot" id="dot2"></div>
    </div>

    <p class="subtitulo-admin" id="subtitulo">Acceso al sistema de administración</p>

    <form method="post" class="contenedor-login-adm" id="loginForm">
      {% csrf_token %}

      <div class="form-step active" id="step1">
        <label for="email" class="btn-txt">Email:</label>
        <input type="email" id="email" name="email" required>

        <label for="password" class="btn-txt">Contraseña:</label>
        <input type="password" id="password" name="password" required>

        <button type="button" class="btn-ingresar-adm" id="btnStep1">Continuar</button>

        <div class="txt-reset-adm">
          <a href="{% url 'usuarios:password_reset' %}">¿Olvidaste tu contraseña?</a>
        </div>

        <div class="txt-register-adm">
          <p>¿Aún no tienes cuenta? <a href="{% url 'usuarios:register' %}">Regístrate</a></p>
        </div>
      </div>

      <div class="form-step" id="step2">
        <div class="info-verificacion">
          Hemos enviado un código de 6 dígitos a tu correo electrónico
        </div>

        <label class="btn-txt-adm">Ingresa el código de verificación:</label>

        <div class="code-input-container">
          <input type="text" class="code-digit" maxlength="1" id="digit1" name="digit1">
          <input type="text" class="code-digit" maxlength="1" id="digit2" name="digit2">
          <input type="text" class="code-digit" maxlength="1" id="digit3" name="digit3">
          <input type="text" class="code-digit" maxlength="1" id="digit4" name="digit4">
          <input type="text" class="code-digit" maxlength="1" id="digit5" name="digit5">
          <input type="text" class="code-digit" maxlength="1" id="digit6" name="digit6">
        </div>
        <input type="hidden" name="codigo_verificacion" id="codigoCompleto">
        <input type="hidden" name="email_verified" id="emailVerified">
        <input type="hidden" name="password_verified" id="passwordVerified">
        <button type="submit" class="btn-ingresar-adm" id="btnVerificar">Verificar y Entrar</button>
        <button type="button" class="btn-reenviar-adm" id="btnReenviar">
          Reenviar código
        </button>
        <div class="temporizador" id="temporizador"></div>
        <button type="button" class="btn-volver-paso" id="btnVolver">
          ← Volver
        </button>
      </div>
      {% if mensaje %}
      <p class="mensaje-error">{{ mensaje }}</p>
      {% endif %}
    </form>
  </div>
  <!-- ALERTA PERSONALIZADA -->
  <div id="custom-alert" class="alert-overlay" style="display:none;">
    <div class="alert-box">
      <h2 id="alert-title">Mensaje</h2>
      <p id="alert-message">Texto del mensaje.</p>
      <button onclick="cerrarAlerta()">Aceptar</button>
    </div>
  </div>


<script src="{% static '/usuarios/js/loginAdm.js' %}"></script>

</body>
</html>